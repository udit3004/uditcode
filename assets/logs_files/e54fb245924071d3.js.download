(self["webpackChunk_canva_web"] = self["webpackChunk_canva_web"] || []).push([[4134],{

/***/ 661745:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(413926);self._fe4d99ebe0d2d259646a80d250150d47 = self._fe4d99ebe0d2d259646a80d250150d47 || {};(function(__c) {var Eu;var Qkb,Rkb,Skb,Vkb,Wkb,Ykb,alb,clb,dlb,flb,mlb,klb,llb,nlb,olb;__c.Nkb=function(a){return"layers"in a};__c.Du=function(){const a=__c.Okb.box(null);return Object.create({},{current:{get:()=>a.get(),set:(0,__c.Pkb)(b=>a.set(b))}})};Qkb=function(a){const b=a.create();b.LRa=c=>{var d;null===(d=a.LRa)||void 0===d?void 0:d.call(a,c)};return b};
Rkb=function(a,b){if(!b)return Array(a.meta.length).fill(0);const c=a.meta.length*a.length;if(b.flat().length!==c)throw new Eu(`Could not set uniform '${a.meta.type} ${a.name}'. Expected data with a length of ${c} but your data has a length of ${b.length}.`);return b};
Skb=function(a,b){const c=b.meta,d=b.name,e=b.location;b=b.data.flat();if("int"===c.type)switch(c.length){case 1:a.uniform1iv(e,b);break;case 2:a.uniform2iv(e,b);break;case 3:a.uniform3iv(e,b);break;case 4:a.uniform4iv(e,b);break;default:throw new Eu(`Could not set the value for uniform '${d}'. Make sure its length is between 1 and 4 (inclusive).`);}else if("float"===c.type)switch(c.length){case 1:a.uniform1fv(e,b);break;case 2:a.uniform2fv(e,b);break;case 3:a.uniform3fv(e,b);break;case 4:a.uniform4fv(e,
b);break;default:throw new Eu(`Could not set the value for uniform '${d}'. Make sure its length is between 1 and 4 (inclusive).`);}else switch(c.length){case 4:a.uniformMatrix2fv(e,!1,b);break;case 9:a.uniformMatrix3fv(e,!1,b);break;case 16:a.uniformMatrix4fv(e,!1,b);break;default:throw new Eu(`Could not set the value for uniform '${d}'. Make sure its length is between 2 and 4 (inclusive).`);}};
Vkb=function(a,b,c){var d=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT);d&&10<d.precision&&(c=c.replace("precision mediump float;","precision highp float;"));d=a.createShader(b);if(!d)throw new Tkb("Could not create shader");a.shaderSource(d,c);a.compileShader(d);if(a.getShaderParameter(d,a.COMPILE_STATUS))return d;c=a.getShaderInfoLog(d);a.deleteShader(d);throw new Ukb(`Could not compile ${b===a.VERTEX_SHADER?"vertex":"fragment"} shader. Details: ${c}`);};
Wkb=function(a,b){var c=a.drawingBufferWidth;a=a.drawingBufferHeight;return{width:"fixed"===b.size?b.width||c:(b.width||1)*c,height:"fixed"===b.size?b.height||a:(b.height||1)*a}};
Ykb=function(a,b,c){if("undefined"!==typeof WebGLRenderingContext&&a instanceof WebGLRenderingContext&&"f32"===b.numberFormat&&!a.getExtension("OES_texture_float"))throw new Xkb("No support for floating point textures");c=c||a.createTexture();if(!c)throw new Tkb(`Could not create WebGLTexture for texture with ID: '${b.id}'.`);a.bindTexture(a.TEXTURE_2D,c);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,"premultiply"===b.alpha);const d="rgb"===b.pka?a.RGB:a.RGBA,e="f32"===b.numberFormat?a.FLOAT:a.UNSIGNED_BYTE,
f="f32"===b.numberFormat?a.NEAREST:a.LINEAR;if("image"!==b.vTb){var g="undefined"!==typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext?d===a.RGB?e===a.FLOAT?a.RGB32F:a.RGB:e===a.FLOAT?a.RGBA32F:a.RGBA:d;const {width:h,height:k}=Wkb(a,b);a.texImage2D(a.TEXTURE_2D,0,g,h,k,0,d,e,b.source)}else{g=b.source;if(g="tagName"in g&&"IMG"===g.tagName){g=b.source.src;const h=document.createElement("a");h.href=g;g="data:"===h.protocol||"blob:"===h.protocol?!1:!0}g&&!b.source.crossOrigin&&console.warn(`Fragl warning: ${b.source.src} image may come from a different origin but you did not set the crossOrigin attribute.`);
a.texImage2D(a.TEXTURE_2D,0,d,d,e,b.source)}a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,f);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,f);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.bindTexture(a.TEXTURE_2D,null);return c};
__c.$kb=function(a){var b={env:{devicePixelRatio:1}},c,d;const e=document.createElement("canvas");a.append(e);e.style.width="100%";e.style.height="100%";let f="Unknown";a=h=>{h.statusMessage&&(f=h.statusMessage)};e.addEventListener("webglcontextcreationerror",a);const g={alpha:null!==(c=null===b||void 0===b?void 0:b.alpha)&&void 0!==c?c:!0,antialias:null!==(d=null===b||void 0===b?void 0:b.antialias)&&void 0!==d?d:!0,depth:!1,stencil:!1,preserveDrawingBuffer:!(null===b||void 0===b||!b.preserveDrawingBuffer),
powerPreference:"high-performance"};c=(null===b||void 0===b?0:b.zEe)?e.getContext("webgl2",g):e.getContext("webgl",g);e.removeEventListener("webglcontextcreationerror",a);if(!c)throw new Tkb(`A WebGL context could not be created. Reason: ${f}`);return new Zkb(c,Object.assign({},b,{BIb:()=>{e.remove()}}))};alb=function(a){return`
attribute vec2 aPosition;
varying vec2 vTexCoord;

void main()
{
    gl_Position = vec4(aPosition, 0.0, 1.0);
    vTexCoord = aPosition * 0.5 + 0.5;
    ${a?"vTexCoord.y = 1.0 - vTexCoord.y;":""}
}
  `};clb=function(a,b,c,d){return new blb({name:a,width:b,height:c,size:d||"relative",pka:"rgba",numberFormat:"u8"})};dlb=function(a){return a.jR[a.index]};flb=function({width:a,height:b,size:c}={}){return new elb([clb("bufferA",a,b,c),clb("bufferB",a,b,c)])};
mlb=function(a,b,c,d){b.forEach(e=>{var f=Object.assign({},c.OH);const g=new glb({geometry:hlb,OH:f,attributes:ilb,nC:a.nC,PDa:new jlb({fib:alb(),k6a:e.Mu})});if(e.inputs)for(const h of e.inputs){const k=d.get(h);if(!k)throw new Eu(`Unable to assign texture input. Could not find texture '${h}'.`);f[h]=k}if(e.output){f=d.get(e.output);if(!f)throw new Eu(`Unable to assign texture output. Could not find texture '${e.output}'.`);g.fv=f}a.XNb.set(g,e);a.YQ.push(g)});klb(a);llb(a,a.YQ)};
klb=function(a){var b,c=null===a||void 0===a?void 0:a.xxc;if(a.fv||c)a.YQ[a.YQ.length-1]===a.Axb&&a.YQ.pop();else if(a.YQ[a.YQ.length-1]!==a.Axb){c=a.YQ;var d=c.push;null!==(b=a.Axb)&&void 0!==b?a=b:(b=new glb({geometry:hlb,PDa:new jlb({fib:alb(!0),k6a:"precision mediump float;\n\nuniform sampler2D uPrevResult;\nvarying vec2 vTexCoord;\n\nvoid main()\n{\n    gl_FragColor = texture2D(uPrevResult, vTexCoord);\n    gl_FragColor.rgb *= gl_FragColor.a;\n}\n  "}),attributes:ilb,OH:{uPrevResult:dlb(a.jR)},
nC:a.nC}),a=a.Axb=b);d.call(c,a)}};llb=function(a,b){b.forEach((c,d)=>{if(d===b.length-1)c.OH.uPrevResult=dlb(a.jR),c.fv=a.fv;else{var e;c.OH.uPrevResult=dlb(a.jR);null!==(e=a.XNb.get(c))&&void 0!==e&&e.output||(d=a.jR,d.index=(d.index+1)%d.jR.length,c.fv=d.jR[d.index])}})};nlb=__webpack_require__(168949);olb=nlb.createAtom;__c.Okb=nlb.observable;__c.Pkb=nlb.action;var plb;plb=__webpack_require__(667294);__c.qlb=plb.useState;__c.rlb=plb.memo;__c.slb=plb.useEffect;__c.tlb=plb.useCallback;var ulb;
ulb=class{constructor(){this.window="undefined"!==typeof window?window:void 0;this.SU=olb("DevicePixelRatio",()=>this.Jfb(),()=>this.Rfb());this.imc=()=>{this.SU.reportChanged();this.Rfb();this.Jfb()}}Jfb(){var a;(null===(a=this.window)||void 0===a?0:a.matchMedia)&&!this.match&&(this.match=this.window.matchMedia(`(resolution: ${this.window.devicePixelRatio}dppx)`),this.match.addListener(this.imc))}Rfb(){this.match&&(this.match.removeListener(this.imc),this.match=void 0)}get value(){var a,b;this.SU.reportObserved();
return null!==(b=null===(a=this.window)||void 0===a?void 0:a.devicePixelRatio)&&void 0!==b?b:1}};__c.vlb=new ulb;var Fu,Ukb,Tkb,Gu,Xkb,wlb;Fu=class extends Error{};Ukb=class extends Fu{};Tkb=class extends Fu{};Gu=class extends Fu{};Xkb=class extends Fu{};Eu=__c.Eu=class extends Fu{};wlb=class extends Fu{};__c.Hu=0;var xlb=class{constructor(){var a={uHa:{position:{type:"f32",offset:0,buffer:new Float32Array([-1,-1,-1,1,1,-1,1,1])}},indices:new Uint16Array([0,3,1,0,2,3])};this.id=__c.Hu++;this.resourceType="geometry";for(const [b,c]of Object.entries(a.uHa))c.name=b;this.uHa=a.uHa;this.indices=a.indices;this.MCb=a.MCb}};var glb=class{constructor(a){this.geometry=a.geometry;this.PDa=a.PDa;this.attributes=a.attributes;this.OH=a.OH;this.nC=a.nC;this.fv=a.fv;this.s9b=a.s9b}};__c.ylb=class{constructor(a){this.resources=new Map;this.create=a;this.backend=Qkb(this)}load(a){this.backend.load(a);a=Array.isArray(a)?a:a.resources;for(const b of a)this.resources.set(b.id,b)}update(a){this.backend.update(a)}clear(a,b){this.backend.clear(a,b)}render(a){this.backend.render(a)}readPixels(a){return this.backend.readPixels(a)}flush(){this.backend.flush()}release(a){this.backend.release(a);a=Array.isArray(a)?a:a.resources;for(const b of a)this.resources.delete(b.id)}dispose(){this.backend.dispose();
this.resources.clear()}restore(){this.backend.dispose();this.backend=Qkb(this);this.backend.load(Array.from(this.resources.values()))}resize(...a){const [b,c]=a;if(b!==this.canvas.width||c!==this.canvas.height)this.backend.resize(...a),a=Array.from(this.resources.values()).filter(d=>"texture"===d.resourceType&&!d.source&&"relative"===d.size),this.backend.update(a)}get canvas(){return this.backend.canvas}};var jlb=class{constructor(a){this.id=__c.Hu++;this.resourceType="shader";this.fib=a.fib;this.k6a=a.k6a}};var blb;__c.zlb=class{constructor(a){this.id=__c.Hu++;this.resourceType="texture";this.vTb="image";this.size="fixed";this.pka="rgba";this.numberFormat="u8";this.source=a.source;this.name=a.name;this.alpha=a.alpha||"preserve"}get width(){return this.source.width}get height(){return this.source.height}};
blb=class{constructor(a){this.id=__c.Hu++;this.resourceType="texture";this.vTb="render";this.source=null;this.name=a.name;this.alpha=a.alpha||"preserve";this.size=a.size||"fixed";this.width=a.width||("fixed"===this.size?0:1);this.height=a.height||("fixed"===this.size?0:1);this.pka=a.pka;this.numberFormat=a.numberFormat}};var Alb=new Map([["i8",5120],["i16",5122],["u8",5121],["u16",5123],["f32",5126]]),Blb=new Map([[5126,{type:"float",name:"float",length:1}],[35664,{type:"float",name:"vec2",length:2}],[35665,{type:"float",name:"vec3",length:3}],[35666,{type:"float",name:"vec4",length:4}],[35674,{type:"matrix",name:"mat2",length:4}],[35675,{type:"matrix",name:"mat3",length:9}],[35676,{type:"matrix",name:"mat4",length:16}],[5124,{type:"int",name:"int",length:1}],[35667,{type:"int",name:"ivec2",length:2}],[35668,{type:"int",
name:"ivec3",length:3}],[35669,{type:"int",name:"ivec4",length:4}],[35678,{type:"int",name:"sampler2D",length:1}]]);var Clb=class{constructor(a,b,c){this.name=a.name;this.length=a.size;this.location=b;b=Blb.get(a.type);if(!b)throw new Eu(`Type of uniform '${a.name}' is not supported.`);this.meta=b;this._data=Rkb(this,c)}equals(a){const b=this._data;if(b.length!==a.length)return!1;for(let c=0;c<b.length;c++)if(b[c]!==a[c])return!1;return!0}get data(){return this._data}set data(a){this._data=Rkb(this,a)}};var Zkb=class{constructor(a,b){this.gl=a;this.Sma=new Map;this.nra=new Map;this.XY=new Map;this.cdc=()=>{this.LRa&&this.LRa(new Gu("Error: WebGL context lost"))};this.env=(null===b||void 0===b?void 0:b.env)||window||{devicePixelRatio:1};const c=a.canvas;if(!c)throw new Gu(`Unexpected canvas type: ${typeof c}`);this.BIb=null===b||void 0===b?void 0:b.BIb;this.canvas=c;const [d,e]=this.fV;this.canvas.width=((null===b||void 0===b?void 0:b.width)||d)*this.env.devicePixelRatio;this.canvas.height=((null===
b||void 0===b?void 0:b.height)||e)*this.env.devicePixelRatio;this.canvas.addEventListener("webglcontextlost",this.cdc,{once:!0});this.w5a=a.createFramebuffer()}flush(){this.gl.flush()}resize(...a){let b,c;"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[b=this.canvas.clientWidth,c=this.canvas.clientHeight]=a:[b,c]=a;this.canvas.width=b*this.env.devicePixelRatio;this.canvas.height=c*this.env.devicePixelRatio}load(a){const b=this.gl;a=Array.isArray(a)?a:a.resources;
for(const p of a)if("shader"===p.resourceType){if(!this.nra.has(p.id)){a=this.nra;var c=a.set,d=p.id;var e=p.fib,f=p.k6a;var g=b.createProgram();if(!g)throw new Tkb("Could not create program");e=Vkb(b,b.VERTEX_SHADER,e);f=Vkb(b,b.FRAGMENT_SHADER,f);b.attachShader(g,e);b.attachShader(g,f);b.linkProgram(g);b.deleteShader(e);b.deleteShader(f);if(!b.getProgramParameter(g,b.LINK_STATUS))throw new Ukb(`Could not link program. Details: ${b.getProgramInfoLog(g)}`);b.useProgram(g);e=b.getProgramParameter(g,
b.ACTIVE_ATTRIBUTES);f=new Map;for(var h=0;h<e;h++){var k=b.getActiveAttrib(g,h),l=k?b.getAttribLocation(g,k.name):-1;if(!k||-1===l)throw new wlb(`Could not cache attribute. Could not find attribute or location at index ${h}. This is likely a bug with the renderer.`);var m=Blb.get(k.type);if(!m)throw new Eu(`Type of attribute '${k.name}' is not supported.`);b.enableVertexAttribArray(l);f.set(k.name,{location:l,meta:m})}e=b.getProgramParameter(g,b.ACTIVE_UNIFORMS);h=new Map;k=new Map;l=0;for(m=0;m<
e;m++){var n=b.getActiveUniform(g,m);const r=n?b.getUniformLocation(g,n.name):null;if(!n||!r)throw new wlb(`Could not cache uniform. Could not find uniform or location at index ${m}. This is likely a bug with the renderer.`);const u=n.name.endsWith("[0]")?n.name.slice(0,-3):n.name;n.type===b.SAMPLER_2D||n.type===b.SAMPLER_CUBE?(n=new Clb(n,r,[l]),h.set(u,n),Skb(b,n),l++):(n=new Clb(n,r),k.set(u,n),Skb(b,n))}b.useProgram(null);c.call(a,d,{program:g,attributes:f,OH:h,nC:k})}}else if("geometry"===p.resourceType){if(!this.Sma.has(p.id)){a=
this.Sma;c=a.set;d=p.id;g=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,g);b.bufferData(b.ELEMENT_ARRAY_BUFFER,p.indices,b.STATIC_DRAW);f=new Map;for(const [r,u]of Object.entries(p.uHa))e=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,e),b.bufferData(b.ARRAY_BUFFER,u.buffer,b.STATIC_DRAW),f.set(r,e);b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);c.call(a,d,{indices:g,jR:f})}}else this.XY.has(p.id)||this.XY.set(p.id,Ykb(b,p))}update(a){const b=this.gl;a=Array.isArray(a)?
a:a.resources;for(const c of a)if("texture"===c.resourceType){a=this.XY.get(c.id);if(!a)throw new Gu(`Could not update texture with ID: '${c.id}'. Did you remember to use load()?`);Ykb(b,c,a)}}clear(a,b){const c=this.gl;if(b){const d=this.XY.get(b.id);if(!d)throw new Gu(`Could not find render target with ID: ${b.id}. Did you remember to use load()?`);c.bindFramebuffer(c.FRAMEBUFFER,this.w5a);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,d,0)}else c.bindFramebuffer(c.FRAMEBUFFER,
null);c.clearColor(...a);c.clear(c.COLOR_BUFFER_BIT)}render(a){var b,c;const d=this.gl;a=Array.isArray(a)?a:a.WAd;for(const h of a){var e=this.nra.get(h.PDa.id);if(!e)throw new Gu(`Could not find shader with ID: ${h.PDa.id}. Did you remember to use load()?`);h.s9b?(d.enable(d.BLEND),d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA)):d.disable(d.BLEND);d.useProgram(e.program);var f=this.Sma.get(h.geometry.id);if(!f)throw new Gu(`Could not find geometry with ID: ${h.geometry.id}. Did you remember to use load()?`);
d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,f.indices);const k=(a=!!h.geometry.MCb)?d.getExtension("ANGLE_instanced_arrays"):null;if(a&&!k)throw new Xkb("Instancing is required but not supported on this device");for(const [l,{location:m,meta:n}]of e.attributes.entries()){var g=h.attributes[l];const p=Alb.get(g.type);if(!p)throw new wlb(`Could not determine type for attribute ${l}. This is likely a bug with the renderer.`);const r=f.jR.get(g.name);if(!r)throw new wlb(`Could not locate geometry buffer "${g.name}. This is likely a bug with the renderer`);
d.bindBuffer(d.ARRAY_BUFFER,r);d.vertexAttribPointer(m,n.length,p,null!==(b=g.gpe)&&void 0!==b?b:!1,null!==(c=g.stride)&&void 0!==c?c:0,g.offset);a&&g.divisor&&k.vertexAttribDivisorANGLE(m,g.divisor)}f=Object.assign({},h.nC,this.BYc);for(const [l,m]of e.nC.entries()){g=f[l];if(!g)throw new Eu(`Could not find a value for uniform '${l}'. Make sure you provide a value.`);m.equals(g)||(m.data=g,Skb(d,m))}for(const [l,m]of e.OH.entries()){d.activeTexture(d.TEXTURE0+m.data.flat()[0]);d.bindTexture(d.TEXTURE_2D,
null);e=h.OH[l];if(!e)throw new Eu(`Could not find a texture associated with uniform '${l}'. Make sure you provide a value.`);f=this.XY.get(e.id);if(!f)throw new Gu(`Could not find texture with ID: ${e.id}. Did you remember to use load()?`);d.bindTexture(d.TEXTURE_2D,f)}if(h.fv){e=this.XY.get(h.fv.id);if(!e)throw new Gu(`Could not find render target with ID: ${h.fv.id}. Did you remember to use load()?`);const {width:l,height:m}=Wkb(d,h.fv);d.bindFramebuffer(d.FRAMEBUFFER,this.w5a);d.framebufferTexture2D(d.FRAMEBUFFER,
d.COLOR_ATTACHMENT0,d.TEXTURE_2D,e,0);d.viewport(0,0,l,m)}else d.bindFramebuffer(d.FRAMEBUFFER,null),d.viewport(0,0,d.drawingBufferWidth,d.drawingBufferHeight);a?k.drawElementsInstancedANGLE(d.TRIANGLES,h.geometry.indices.length,d.UNSIGNED_SHORT,0,h.geometry.MCb):d.drawElements(d.TRIANGLES,h.geometry.indices.length,d.UNSIGNED_SHORT,0)}}release(a){a=Array.isArray(a)?a:a.resources;for(const b of a)this.pKa(b.id,b.resourceType)}readPixels(a){const b=this.gl;if(a){var c=this.XY.get(a.id);if(!c)throw new Gu(`Could not find render target with ID: ${a.id}. Did you remember to use load()?`);
a=Wkb(b,a);b.bindFramebuffer(b.FRAMEBUFFER,this.w5a);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,c,0)}else b.bindFramebuffer(b.FRAMEBUFFER,null),a={width:b.drawingBufferWidth,height:b.drawingBufferHeight};c=new Uint8Array(a.width*a.height*4);b.readPixels(0,0,a.width,a.height,b.RGBA,b.UNSIGNED_BYTE,c);return new ImageData(new Uint8ClampedArray(c.buffer),a.width,a.height)}dispose(){var a;const b=this.gl;for(var c of this.Sma.keys())this.pKa(c,"geometry");for(var d of this.nra.keys())this.pKa(d,
"shader");for(const e of this.XY.keys())this.pKa(e,"texture");this.Sma.clear();this.nra.clear();this.XY.clear();b.deleteFramebuffer(this.w5a);b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);c=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS);for(d=0;d<c;d++)b.activeTexture(b.TEXTURE0+d),b.bindTexture(b.TEXTURE_2D,null),b.bindTexture(b.TEXTURE_CUBE_MAP,null);this.canvas.width=this.canvas.height=0;this.canvas.removeEventListener("webglcontextlost",
this.cdc);null===(a=this.BIb)||void 0===a?void 0:a.call(this)}pKa(a,b){const c=this.gl;if("shader"===b){var d=this.nra.get(a);c.deleteProgram((null===d||void 0===d?void 0:d.program)||null);this.nra.delete(a)}else if("geometry"===b){if(b=this.Sma.get(a)||null){for(d of Object.values(b.jR))c.bindBuffer(c.ARRAY_BUFFER,d),c.bufferData(c.ARRAY_BUFFER,1,c.STATIC_DRAW),c.deleteBuffer(d);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,1,c.STATIC_DRAW);c.deleteBuffer(b.indices)}this.Sma.delete(a)}else d=
this.XY.get(a),c.deleteTexture(d||null),this.XY.delete(a)}get BYc(){return{uResolution:[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight],uViewSize:this.fV,uDevicePixelRatio:[this.env.devicePixelRatio]}}get fV(){return"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?[this.canvas.clientWidth,this.canvas.clientHeight]:[this.canvas.width,this.canvas.height]}};var hlb,ilb,elb;hlb=new xlb;ilb={aPosition:hlb.uHa.position};elb=class{constructor(a){this.index=0;this.jR=null!==a&&void 0!==a?a:[new blb({pka:"rgba",numberFormat:"u8"}),new blb({pka:"rgba",numberFormat:"u8"})]}};
__c.Dlb=class{constructor(a){var b,c,d,e,f,g,h,k,l,m,n;this.YQ=[];this.XNb=new Map;this.nC={};this.fv=null===(b=a.options)||void 0===b?void 0:b.fv;this.xxc=null!==(d=null===(c=a.options)||void 0===c?void 0:c.xxc)&&void 0!==d?d:!1;if(a.nC)for(const [r,u]of Object.entries(a.nC))this.nC[r]=Array.isArray(u)?u:[u];b=[];for(c=0;c<a.OKb.length;c++)d=a.OKb[c],"string"===typeof d?b.push({Mu:d}):b.push(d);this.jR=(null===(e=a.options)||void 0===e?void 0:e.jR)||flb(null===(f=a.options)||void 0===f?void 0:f.fv);
e=new Set;for(var p of b)if(p.inputs){for(const r of p.inputs){if("uPrevResult"===r)throw new Eu("Your render pass should not define uPrevResult. This will be automatically added.");e.add(r)}p.output&&e.add(p.output)}p=new Map;for(const r of e)p.set(r,clb(r,null===(h=null===(g=a.options)||void 0===g?void 0:g.fv)||void 0===h?void 0:h.width,null===(l=null===(k=a.options)||void 0===k?void 0:k.fv)||void 0===l?void 0:l.height,null===(n=null===(m=a.options)||void 0===m?void 0:m.fv)||void 0===n?void 0:n.size));
mlb(this,b,a,p)}update(a){var b;if(a.OH)for(const [d,e]of Object.entries(a.OH))if(e)for(var c of this.YQ)c.OH[d]=e;if(a.nC)for(const [d,e]of Object.entries(a.nC))this.nC[d]&&(this.nC[d]=Array.isArray(e)?e:[e]);void 0!==a.fv&&(c=this.fv,this.fv=null!==(b=a.fv)&&void 0!==b?b:void 0,!c&&this.fv||c&&!this.fv)&&(klb(this),llb(this,this.YQ))}get resources(){const a=new Set,b=new Set,c=new Set;for(const d of this.YQ){a.add(d.geometry);b.add(d.PDa);for(const e of Object.values(d.OH))c.add(e);d.fv&&c.add(d.fv)}return[...a,
...b,...c]}get WAd(){const a=Object.fromEntries(Object.entries(this.nC).map(([c,d])=>[c,1===d.length?d[0]:d])),b=this.YQ.filter(c=>{var d;return(c=null===(d=this.XNb.get(c))||void 0===d?void 0:d.vze)?c(a):!0});llb(this,b);return b}};
}).call(self, self._fe4d99ebe0d2d259646a80d250150d47);}

}])
//# sourceMappingURL=sourcemaps/e54fb245924071d3.js.map